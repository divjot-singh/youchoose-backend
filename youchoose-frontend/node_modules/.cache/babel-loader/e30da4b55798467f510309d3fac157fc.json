{"ast":null,"code":"var _jsxFileName = \"/Users/divjotsingh/Documents/Youchoose/youchoose/src/services/userProvider.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport Authenticate from \"./authService\";\nimport { GetCurrentUser } from \"./firebaseService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext({\n  user: null,\n  authenticate: async authType => {}\n});\nexport const UserContextWrapper = _ref => {\n  _s();\n\n  let {\n    children,\n    isAppInitialised\n  } = _ref;\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    if (isAppInitialised) {\n      const currentUser = GetCurrentUser();\n\n      if (currentUser) {\n        setUser(currentUser);\n      }\n    }\n  }, [isAppInitialised]);\n\n  const authenticate = async authType => {\n    const result = await Authenticate(authType);\n\n    if (result) {\n      setUser(result);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      authenticate\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserContextWrapper, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n\n_c = UserContextWrapper;\nexport const useAuth = () => {\n  _s2();\n\n  return useContext(UserContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContextWrapper\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","Authenticate","GetCurrentUser","UserContext","user","authenticate","authType","UserContextWrapper","children","isAppInitialised","setUser","currentUser","result","useAuth"],"sources":["/Users/divjotsingh/Documents/Youchoose/youchoose/src/services/userProvider.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport User from \"../entities/user\";\nimport Authenticate, { AuthType } from \"./authService\";\nimport { GetCurrentUser } from \"./firebaseService\";\n\ninterface UserContextWrapperProps{\n    children: JSX.Element | null,\n    isAppInitialised: boolean\n}\nexport interface UserContextValue{\n    user: User | null;\n    authenticate: (authType: AuthType) => Promise<void>\n}\nconst UserContext = createContext<UserContextValue>({\n    user:null,\n    authenticate:async (authType) => {}\n})\nexport const UserContextWrapper = ({children,isAppInitialised}: UserContextWrapperProps) => {\n    const [user, setUser] = useState<User | null>(null)\n    useEffect(() => {\n        if(isAppInitialised){\n            const currentUser:User | null = GetCurrentUser()\n            if(currentUser){\n                setUser(currentUser)\n            }\n        }\n    },[isAppInitialised])\n    const authenticate = async (authType:AuthType) => {\n        const result:User | null = await Authenticate(authType);\n        if(result){\n            setUser(result)\n        }\n    }\n    return (\n        <UserContext.Provider value={{\n            user,\n            authenticate\n        }}>\n            {children}\n        </UserContext.Provider>\n    )    \n}\n\n\n\nexport const useAuth = () => useContext(UserContext)"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,QAA/C,QAA+D,OAA/D;AAEA,OAAOC,YAAP,MAAuC,eAAvC;AACA,SAASC,cAAT,QAA+B,mBAA/B;;AAUA,MAAMC,WAAW,gBAAGN,aAAa,CAAmB;EAChDO,IAAI,EAAC,IAD2C;EAEhDC,YAAY,EAAC,MAAOC,QAAP,IAAoB,CAAE;AAFa,CAAnB,CAAjC;AAIA,OAAO,MAAMC,kBAAkB,GAAG,QAA0D;EAAA;;EAAA,IAAzD;IAACC,QAAD;IAAUC;EAAV,CAAyD;EACxF,MAAM,CAACL,IAAD,EAAOM,OAAP,IAAkBV,QAAQ,CAAc,IAAd,CAAhC;EACAD,SAAS,CAAC,MAAM;IACZ,IAAGU,gBAAH,EAAoB;MAChB,MAAME,WAAuB,GAAGT,cAAc,EAA9C;;MACA,IAAGS,WAAH,EAAe;QACXD,OAAO,CAACC,WAAD,CAAP;MACH;IACJ;EACJ,CAPQ,EAOP,CAACF,gBAAD,CAPO,CAAT;;EAQA,MAAMJ,YAAY,GAAG,MAAOC,QAAP,IAA6B;IAC9C,MAAMM,MAAkB,GAAG,MAAMX,YAAY,CAACK,QAAD,CAA7C;;IACA,IAAGM,MAAH,EAAU;MACNF,OAAO,CAACE,MAAD,CAAP;IACH;EACJ,CALD;;EAMA,oBACI,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MACzBR,IADyB;MAEzBC;IAFyB,CAA7B;IAAA,UAIKG;EAJL;IAAA;IAAA;IAAA;EAAA,QADJ;AAQH,CAxBM;;GAAMD,kB;;KAAAA,kB;AA4Bb,OAAO,MAAMM,OAAO,GAAG;EAAA;;EAAA,OAAMf,UAAU,CAACK,WAAD,CAAhB;AAAA,CAAhB;;IAAMU,O"},"metadata":{},"sourceType":"module"}